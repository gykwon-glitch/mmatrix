% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mm_report.R
\name{mm_report}
\alias{mm_report}
\title{Summary report for an mmatrix spec}
\usage{
mm_report(spec, show_levels = TRUE, max_levels_preview = 6)
}
\arguments{
\item{spec}{A specification object produced by \code{mmatrix()}.}

\item{show_levels}{Logical; if \code{TRUE}, include a preview of factor levels
for each categorical column. Default is \code{TRUE}.}

\item{max_levels_preview}{Integer; maximum number of levels to show per
factor when \code{show_levels = TRUE}. Default is \code{10}.}
}
\value{
A named list summarizing the encoded design matrix and its encodings,
with the following components:
\describe{
\item{dims}{Named integer vector with the dimensions of the design
matrix, \code{c(n, p)}, \code{n} : number of rows,  \code{p} : number of columns.}

\item{nnzero}{Total number of non-zero entries in the sparse design
matrix (as computed by \code{Matrix::nnzero()}).}

\item{density}{Proportion of non-zero entries in the design matrix:
\code{nnzero / (n * p)}.}

\item{sparsity}{Proportion of zero entries in the design matrix:
\code{1 - density}.}

\item{mem_sparse_mb}{Approximate memory usage (in megabytes) of the
sparse design matrix object.}

\item{mem_dense_est_mb}{Approximate memory usage (in megabytes) that a
dense \code{n x p} \code{double} matrix would require
(\code{n * p * 8} bytes).}

\item{rank}{Estimated numerical rank of the design matrix, typically
carried over from \code{spec$rank}.}

\item{drop_report_head}{Either \code{NULL} or a small
\code{data.frame} containing the first few rows (up to 10) of the
drop report, summarizing columns that were dropped due to zero
variance, perfect collinearity, or other preprocessing.}

\item{factor_levels}{Either \code{NULL} or a \code{data.frame} that
summarizes factor encodings used in the design. Typical columns are:
\describe{
\item{variable}{Name of the original factor variable.}
\item{n_levels}{Number of levels of the factor.}
\item{levels_preview}{Comma-separated preview of the first
\code{max_levels_preview} levels, as shown in the printed report.}
}}
}
}
\description{
Produces a compact summary of an \code{mmatrix} specification, including
column roles, types, factor levels, and memory usage of the design matrix.
}
\examples{
\dontrun{
  spec <- mmatrix(~ Species + Sepal.Length, iris)
  mm_report(spec)
}
#' @importFrom utils object.size
}
